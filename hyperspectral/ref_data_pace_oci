/*

Last updated: 02.05.2025
var x = require('users/servirbz/packages:hyperspectral/ref_data_pace_oci');
*/

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

var t = 'system:time_start';

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// SURFACE REFLECTANCE DATA

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// DOMAIN: CONTINENTAL USA (CONUS) | SPATIAL RES: 4 KM  | TEMPORAL RES: MONTHLY

var pace_oci_mt_conus_202403 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202403_4km").set(t,ee.Date.fromYMD(2024,3,15).millis()),
    pace_oci_mt_conus_202404 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202404_4km").set(t,ee.Date.fromYMD(2024,4,15).millis()),
    pace_oci_mt_conus_202405 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202405_4km").set(t,ee.Date.fromYMD(2024,5,15).millis()),
    pace_oci_mt_conus_202406 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202406_4km").set(t,ee.Date.fromYMD(2024,6,15).millis()),
    pace_oci_mt_conus_202407 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202407_4km").set(t,ee.Date.fromYMD(2024,7,15).millis()),
    pace_oci_mt_conus_202408 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202408_4km").set(t,ee.Date.fromYMD(2024,8,15).millis()),
    pace_oci_mt_conus_202409 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202409_4km").set(t,ee.Date.fromYMD(2024,9,15).millis()),
    pace_oci_mt_conus_202410 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202410_4km").set(t,ee.Date.fromYMD(2024,10,15).millis()),
    pace_oci_mt_conus_202411 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202411_4km").set(t,ee.Date.fromYMD(2024,11,15).millis()),
    pace_oci_mt_conus_202412 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202412_4km").set(t,ee.Date.fromYMD(2024,12,15).millis()),
    pace_oci_mt_conus_202501 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202501_4km").set(t,ee.Date.fromYMD(2025,1,15).millis()),
    pace_oci_mt_conus_202502 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202502_4km").set(t,ee.Date.fromYMD(2025,2,14).millis()),
    pace_oci_mt_conus_202503 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/conus_04km/conus_pace_oci_sr_202503_4km").set(t,ee.Date.fromYMD(2025,3,15).millis());

exports.pace_oci_mt_conus_202403 = pace_oci_mt_conus_202403;
exports.pace_oci_mt_conus_202404 = pace_oci_mt_conus_202404;
exports.pace_oci_mt_conus_202405 = pace_oci_mt_conus_202405;
exports.pace_oci_mt_conus_202406 = pace_oci_mt_conus_202406;
exports.pace_oci_mt_conus_202407 = pace_oci_mt_conus_202407;
exports.pace_oci_mt_conus_202408 = pace_oci_mt_conus_202408;
exports.pace_oci_mt_conus_202409 = pace_oci_mt_conus_202409;
exports.pace_oci_mt_conus_202410 = pace_oci_mt_conus_202410;
exports.pace_oci_mt_conus_202411 = pace_oci_mt_conus_202411;
exports.pace_oci_mt_conus_202412 = pace_oci_mt_conus_202412;

exports.pace_oci_mt_conus_202501 = pace_oci_mt_conus_202501;
exports.pace_oci_mt_conus_202502 = pace_oci_mt_conus_202502;
exports.pace_oci_mt_conus_202503 = pace_oci_mt_conus_202503;

//

var pace_oci_mt_conus = ee.ImageCollection.fromImages([pace_oci_mt_conus_202403,pace_oci_mt_conus_202404,pace_oci_mt_conus_202405,pace_oci_mt_conus_202406,pace_oci_mt_conus_202407,
                                                    pace_oci_mt_conus_202408,pace_oci_mt_conus_202409,pace_oci_mt_conus_202410,pace_oci_mt_conus_202411,pace_oci_mt_conus_202412,
                                                    pace_oci_mt_conus_202501,pace_oci_mt_conus_202502,pace_oci_mt_conus_202503])
                                                    .map(function(img){return img.set(t,img.get(t))});
exports.pace_oci_mt_conus = pace_oci_mt_conus;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// DOMAIN: MESOAMERICA | SPATIAL RES: 1 KM | TEMPORAL RES: DAILY

var pace_oci_mes_20240309 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_01km/mes_pace_oci_sr_v3_20240309_1km"),
    pace_oci_mes_20240409 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_01km/mes_pace_oci_sr_v3_20240409_1km"),
    pace_oci_mes_20241119 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_01km/mes_pace_oci_sr_v3_20241119_1km"),
    pace_oci_mes_20250315 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_01km/mes_pace_oci_sr_v3_20250315_1km"),
    pace_oci_mes_20250316 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_01km/mes_pace_oci_sr_v3_20250316_1km");

exports.pace_oci_mes_20240309 = pace_oci_mes_20240309;
exports.pace_oci_mes_20240409 = pace_oci_mes_20240409;
exports.pace_oci_mes_20241119 = pace_oci_mes_20241119;
exports.pace_oci_mes_20250315 = pace_oci_mes_20250315;
exports.pace_oci_mes_20250316 = pace_oci_mes_20250316;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// DOMAIN: MESOAMERICA | SPATIAL RES: 4.638 KM  | TEMPORAL RES: MONTHLY

var pace_oci_mt_mes_202403 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202403_4km").set(t,ee.Date.fromYMD(2024,3,15).millis()),
    pace_oci_mt_mes_202404 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202404_4km").set(t,ee.Date.fromYMD(2024,4,15).millis()),
    pace_oci_mt_mes_202405 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202405_4km").set(t,ee.Date.fromYMD(2024,5,15).millis()),
    pace_oci_mt_mes_202406 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202406_4km").set(t,ee.Date.fromYMD(2024,6,15).millis()),
    pace_oci_mt_mes_202407 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202407_4km").set(t,ee.Date.fromYMD(2024,7,15).millis()),
    pace_oci_mt_mes_202408 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202408_4km").set(t,ee.Date.fromYMD(2024,8,15).millis()),
    pace_oci_mt_mes_202409 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202409_4km").set(t,ee.Date.fromYMD(2024,9,15).millis()),
    pace_oci_mt_mes_202410 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202410_4km").set(t,ee.Date.fromYMD(2024,10,15).millis()),
    pace_oci_mt_mes_202411 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202411_4km").set(t,ee.Date.fromYMD(2024,11,15).millis()),
    pace_oci_mt_mes_202412 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202412_4km").set(t,ee.Date.fromYMD(2024,12,15).millis()),
    pace_oci_mt_mes_202501 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202501_4km").set(t,ee.Date.fromYMD(2025,1,15).millis()),
    pace_oci_mt_mes_202502 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202502_4km").set(t,ee.Date.fromYMD(2025,2,14).millis()),
    pace_oci_mt_mes_202503 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202503_4km").set(t,ee.Date.fromYMD(2025,3,15).millis());

exports.pace_oci_mt_mes_202403 = pace_oci_mt_mes_202403;
exports.pace_oci_mt_mes_202404 = pace_oci_mt_mes_202404;
exports.pace_oci_mt_mes_202405 = pace_oci_mt_mes_202405;
exports.pace_oci_mt_mes_202406 = pace_oci_mt_mes_202406;
exports.pace_oci_mt_mes_202407 = pace_oci_mt_mes_202407;
exports.pace_oci_mt_mes_202408 = pace_oci_mt_mes_202408;
exports.pace_oci_mt_mes_202409 = pace_oci_mt_mes_202409;
exports.pace_oci_mt_mes_202410 = pace_oci_mt_mes_202410;
exports.pace_oci_mt_mes_202411 = pace_oci_mt_mes_202411;
exports.pace_oci_mt_mes_202412 = pace_oci_mt_mes_202412;

exports.pace_oci_mt_mes_202501 = pace_oci_mt_mes_202501;
exports.pace_oci_mt_mes_202502 = pace_oci_mt_mes_202502;
exports.pace_oci_mt_mes_202503 = pace_oci_mt_mes_202503;

//

var pace_oci_mt_mes = ee.ImageCollection.fromImages([pace_oci_mt_mes_202403,pace_oci_mt_mes_202404,pace_oci_mt_mes_202405,pace_oci_mt_mes_202406,pace_oci_mt_mes_202407,
                                                    pace_oci_mt_mes_202408,pace_oci_mt_mes_202409,pace_oci_mt_mes_202410,pace_oci_mt_mes_202411,pace_oci_mt_mes_202412,
                                                    pace_oci_mt_mes_202501,pace_oci_mt_mes_202502,pace_oci_mt_mes_202503])
                                                    .map(function(img){return img.multiply(10000).set(t,img.get(t))});
exports.pace_oci_mt_mes = pace_oci_mt_mes;


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// DOMAIN: WORLD | SPATIAL RES: 10 KM | TEMPORAL RES: MONTHLY

var pace_oci_mt_global_202403 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202403").set(t,ee.Date.fromYMD(2024,3,15).millis()),
    pace_oci_mt_global_202404 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202404").set(t,ee.Date.fromYMD(2024,4,15).millis()),
    pace_oci_mt_global_202405 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202405").set(t,ee.Date.fromYMD(2024,5,15).millis()),
    pace_oci_mt_global_202406 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202406").set(t,ee.Date.fromYMD(2024,6,15).millis()),
    pace_oci_mt_global_202407 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202407").set(t,ee.Date.fromYMD(2024,7,15).millis()),
    pace_oci_mt_global_202408 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202408").set(t,ee.Date.fromYMD(2024,8,15).millis()),
    pace_oci_mt_global_202409 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202409").set(t,ee.Date.fromYMD(2024,9,15).millis()),
    pace_oci_mt_global_202410 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202410").set(t,ee.Date.fromYMD(2024,10,15).millis()),
    pace_oci_mt_global_202411 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202411").set(t,ee.Date.fromYMD(2024,11,15).millis()),
    pace_oci_mt_global_202412 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202412").set(t,ee.Date.fromYMD(2024,12,15).millis()),
    pace_oci_mt_global_202501 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202501").set(t,ee.Date.fromYMD(2025,1,15).millis()),
    pace_oci_mt_global_202502 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202502").set(t,ee.Date.fromYMD(2025,2,14).millis()),
    pace_oci_mt_global_202503 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202503").set(t,ee.Date.fromYMD(2025,3,15).millis());

exports.pace_oci_mt_global_202403 = pace_oci_mt_global_202403;
exports.pace_oci_mt_global_202404 = pace_oci_mt_global_202404;
exports.pace_oci_mt_global_202405 = pace_oci_mt_global_202405;
exports.pace_oci_mt_global_202406 = pace_oci_mt_global_202406;
exports.pace_oci_mt_global_202407 = pace_oci_mt_global_202407;
exports.pace_oci_mt_global_202408 = pace_oci_mt_global_202408;
exports.pace_oci_mt_global_202409 = pace_oci_mt_global_202409;
exports.pace_oci_mt_global_202410 = pace_oci_mt_global_202410;
exports.pace_oci_mt_global_202411 = pace_oci_mt_global_202411;
exports.pace_oci_mt_global_202412 = pace_oci_mt_global_202412;

exports.pace_oci_mt_global_202501 = pace_oci_mt_global_202501;
exports.pace_oci_mt_global_202502 = pace_oci_mt_global_202502;
exports.pace_oci_mt_global_202503 = pace_oci_mt_global_202503;

//
var pace_oci_mt_global = ee.ImageCollection.fromImages([pace_oci_mt_global_202403,pace_oci_mt_global_202404,pace_oci_mt_global_202405,pace_oci_mt_global_202406,pace_oci_mt_global_202407,
                                                    pace_oci_mt_global_202408,pace_oci_mt_global_202409,pace_oci_mt_global_202410,pace_oci_mt_global_202411,pace_oci_mt_global_202412,
                                                    pace_oci_mt_global_202501,pace_oci_mt_global_202502,pace_oci_mt_global_202503]);
exports.pace_oci_mt_global = pace_oci_mt_global;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// LAND VEGETATION INDICES

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// THIS FUNCTION CREATES AN IMAGE COLLECTION FROM THE 8-DAY PACE LAND VI DATA. IT NEEDS TO BE CONSTANTLY UPDATED.

var coll_vi = function(img) {

var vi01 = img.select([0]).set('system:time_start',ee.Date.fromYMD(2024,3,12).millis());
var vi02 = img.select([1]).set('system:time_start',ee.Date.fromYMD(2024,3,20).millis());
var vi03 = img.select([2]).set('system:time_start',ee.Date.fromYMD(2024,3,28).millis());
var vi04 = img.select([3]).set('system:time_start',ee.Date.fromYMD(2024,4,5).millis());
var vi05 = img.select([4]).set('system:time_start',ee.Date.fromYMD(2024,4,13).millis());
var vi06 = img.select([5]).set('system:time_start',ee.Date.fromYMD(2024,4,21).millis());
var vi07 = img.select([6]).set('system:time_start',ee.Date.fromYMD(2024,4,29).millis());
var vi08 = img.select([7]).set('system:time_start',ee.Date.fromYMD(2024,5,7).millis());
var vi09 = img.select([8]).set('system:time_start',ee.Date.fromYMD(2024,5,15).millis());
var vi10 = img.select([9]).set('system:time_start',ee.Date.fromYMD(2024,5,23).millis());

var vi11 = img.select([10]).set('system:time_start',ee.Date.fromYMD(2024,5,31).millis());
var vi12 = img.select([11]).set('system:time_start',ee.Date.fromYMD(2024,6,8).millis());
var vi13 = img.select([12]).set('system:time_start',ee.Date.fromYMD(2024,6,16).millis());
var vi14 = img.select([13]).set('system:time_start',ee.Date.fromYMD(2024,6,24).millis());
var vi15 = img.select([14]).set('system:time_start',ee.Date.fromYMD(2024,7,2).millis());
var vi16 = img.select([15]).set('system:time_start',ee.Date.fromYMD(2024,7,10).millis());
var vi17 = img.select([16]).set('system:time_start',ee.Date.fromYMD(2024,7,18).millis());
var vi18 = img.select([17]).set('system:time_start',ee.Date.fromYMD(2024,7,26).millis());
var vi19 = img.select([18]).set('system:time_start',ee.Date.fromYMD(2024,8,3).millis());
var vi20 = img.select([19]).set('system:time_start',ee.Date.fromYMD(2024,8,11).millis());

var vi21 = img.select([20]).set('system:time_start',ee.Date.fromYMD(2024,8,19).millis());
var vi22 = img.select([21]).set('system:time_start',ee.Date.fromYMD(2024,8,27).millis());
var vi23 = img.select([22]).set('system:time_start',ee.Date.fromYMD(2024,9,4).millis());
var vi24 = img.select([23]).set('system:time_start',ee.Date.fromYMD(2024,9,12).millis());
var vi25 = img.select([24]).set('system:time_start',ee.Date.fromYMD(2024,9,20).millis());
var vi26 = img.select([25]).set('system:time_start',ee.Date.fromYMD(2024,9,28).millis());
var vi27 = img.select([26]).set('system:time_start',ee.Date.fromYMD(2024,10,6).millis());
var vi28 = img.select([27]).set('system:time_start',ee.Date.fromYMD(2024,10,14).millis());
var vi29 = img.select([28]).set('system:time_start',ee.Date.fromYMD(2024,10,22).millis());
var vi30 = img.select([29]).set('system:time_start',ee.Date.fromYMD(2024,10,30).millis());

var vi31 = img.select([30]).set('system:time_start',ee.Date.fromYMD(2024,11,7).millis());
var vi32 = img.select([31]).set('system:time_start',ee.Date.fromYMD(2024,11,15).millis());
var vi33 = img.select([32]).set('system:time_start',ee.Date.fromYMD(2024,11,23).millis());
var vi34 = img.select([33]).set('system:time_start',ee.Date.fromYMD(2024,12,1).millis());
var vi35 = img.select([34]).set('system:time_start',ee.Date.fromYMD(2024,12,9).millis());
var vi36 = img.select([35]).set('system:time_start',ee.Date.fromYMD(2024,12,17).millis());
var vi37 = img.select([36]).set('system:time_start',ee.Date.fromYMD(2024,12,25).millis());
var vi38 = img.select([37]).set('system:time_start',ee.Date.fromYMD(2024,12,31).millis());
var vi39 = img.select([38]).set('system:time_start',ee.Date.fromYMD(2025,1,8).millis());
var vi40 = img.select([39]).set('system:time_start',ee.Date.fromYMD(2025,1,16).millis());

var vi41 = img.select([40]).set('system:time_start',ee.Date.fromYMD(2025,1,24).millis());
var vi42 = img.select([41]).set('system:time_start',ee.Date.fromYMD(2025,2,1).millis());
var vi43 = img.select([42]).set('system:time_start',ee.Date.fromYMD(2025,2,9).millis());
var vi44 = img.select([43]).set('system:time_start',ee.Date.fromYMD(2025,2,17).millis());
var vi45 = img.select([44]).set('system:time_start',ee.Date.fromYMD(2025,2,25).millis());
var vi46 = img.select([45]).set('system:time_start',ee.Date.fromYMD(2025,3,5).millis());
var vi47 = img.select([46]).set('system:time_start',ee.Date.fromYMD(2025,3,13).millis());
var vi48 = img.select([47]).set('system:time_start',ee.Date.fromYMD(2025,3,21).millis());
var vi49 = img.select([48]).set('system:time_start',ee.Date.fromYMD(2025,3,29).millis());
var vi50 = img.select([49]).set('system:time_start',ee.Date.fromYMD(2025,4,6).millis());

var vi51 = img.select([50]).set('system:time_start',ee.Date.fromYMD(2025,4,14).millis());
var vi52 = img.select([51]).set('system:time_start',ee.Date.fromYMD(2025,4,22).millis());

/*
var vi53 = img.select([52]).set('system:time_start',ee.Date.fromYMD(2025,4,30).millis());
var vi54 = img.select([53]).set('system:time_start',ee.Date.fromYMD(2025,5,8).millis());
var vi55 = img.select([54]).set('system:time_start',ee.Date.fromYMD(2025,5,16).millis());
var vi56 = img.select([55]).set('system:time_start',ee.Date.fromYMD(2025,5,24).millis());
var vi57 = img.select([56]).set('system:time_start',ee.Date.fromYMD(2025,6,1).millis());
var vi58 = img.select([57]).set('system:time_start',ee.Date.fromYMD(2025,6,9).millis());
var vi59 = img.select([58]).set('system:time_start',ee.Date.fromYMD(2025,6,17).millis());
var vi60 = img.select([59]).set('system:time_start',ee.Date.fromYMD(2025,6,25).millis());

var vi61 = img.select([60]).set('system:time_start',ee.Date.fromYMD(2025,7,3).millis());
var vi62 = img.select([61]).set('system:time_start',ee.Date.fromYMD(2025,7,11).millis());
var vi63 = img.select([62]).set('system:time_start',ee.Date.fromYMD(2025,7,19).millis());
var vi64 = img.select([63]).set('system:time_start',ee.Date.fromYMD(2025,7,27).millis());
var vi65 = img.select([64]).set('system:time_start',ee.Date.fromYMD(2025,8,4).millis());
var vi66 = img.select([65]).set('system:time_start',ee.Date.fromYMD(2025,8,12).millis());
var vi67 = img.select([66]).set('system:time_start',ee.Date.fromYMD(2025,8,20).millis());
var vi68 = img.select([67]).set('system:time_start',ee.Date.fromYMD(2025,8,28).millis());
var vi69 = img.select([68]).set('system:time_start',ee.Date.fromYMD(2025,9,5).millis());
var vi70 = img.select([69]).set('system:time_start',ee.Date.fromYMD(2025,9,13).millis());

var vi71 = img.select([70]).set('system:time_start',ee.Date.fromYMD(2025,9,21).millis());
var vi72 = img.select([71]).set('system:time_start',ee.Date.fromYMD(2025,9,29).millis());
var vi73 = img.select([72]).set('system:time_start',ee.Date.fromYMD(2025,10,7).millis());
var vi74 = img.select([73]).set('system:time_start',ee.Date.fromYMD(2025,10,15).millis());
var vi75 = img.select([74]).set('system:time_start',ee.Date.fromYMD(2025,10,23).millis());
var vi76 = img.select([75]).set('system:time_start',ee.Date.fromYMD(2025,10,31).millis());
var vi77 = img.select([76]).set('system:time_start',ee.Date.fromYMD(2025,11,8).millis());
var vi78 = img.select([77]).set('system:time_start',ee.Date.fromYMD(2025,11,16).millis());
var vi79 = img.select([78]).set('system:time_start',ee.Date.fromYMD(2025,11,24).millis());
var vi80 = img.select([79]).set('system:time_start',ee.Date.fromYMD(2025,12,2).millis());

var vi81 = img.select([80]).set('system:time_start',ee.Date.fromYMD(2025,12,10).millis());
var vi82 = img.select([81]).set('system:time_start',ee.Date.fromYMD(2025,12,18).millis());
var vi83 = img.select([82]).set('system:time_start',ee.Date.fromYMD(2025,12,26).millis());
var vi84 = img.select([83]).set('system:time_start',ee.Date.fromYMD(2026,1,1).millis());
*/

//

return ee.ImageCollection.fromImages(
[vi01,vi02,vi03,vi04,vi05,vi06,vi07,vi08,vi09,vi10,
vi11,vi12,vi13,vi14,vi15,vi16,vi17,vi18,vi19,vi20,
vi21,vi22,vi23,vi24,vi25,vi26,vi27,vi28,vi29,vi30,
vi31,vi32,vi33,vi34,vi35,vi36,vi37,vi38,vi39,vi40,
vi41,vi42,vi43,vi44,vi45,vi46,vi47,vi48,vi49,vi50,
vi51,vi52
/*
vi53,vi54,vi55,vi56,vi57,vi58,vi59,vi60,
vi61,vi62,vi63,vi64,vi65,vi66,vi67,vi68,vi69,vi70,
vi71,vi72,vi73,vi74,vi75,vi76,vi77,vi78,vi79,vi80,
vi81,vi82,vi83,vi84
*/
])
.map(function(img){return img.select(['b.*'],['vi'])})
.map(function(img){return img.updateMask(img.gte(-10000)).updateMask(img.lte(30000))})  };

//
var flt = function(img){return img.updateMask(img.gte(-10000)).updateMask(img.lte(10000))};
exports.flt = flt;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// DOMAIN: GLOBAL | SPATIAL RES: 4.638 KM | TEMPORAL RES: 8-DAY

// DATA AS SINGLE IMAGES

var pace_oci_global_ndvi = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_01_ndvi_b52_4km"),
    pace_oci_global_evi = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_02_evi_b52_4km"),
    pace_oci_global_cci = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_05_cci_b52_4km"),
    pace_oci_global_cire = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_07_cire_b52_4km"),
    pace_oci_global_car = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_08_car_b52_4km"),
    pace_oci_global_mari = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_09_mari_b52_4km"),
    pace_oci_global_pri = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_10_pri_b52_4km");

exports.pace_oci_global_ndvi    = pace_oci_global_ndvi;
exports.pace_oci_global_evi     = pace_oci_global_evi;
exports.pace_oci_global_cci     = pace_oci_global_cci;
exports.pace_oci_global_cire    = pace_oci_global_cire;
exports.pace_oci_global_car     = pace_oci_global_car;
exports.pace_oci_global_mari    = pace_oci_global_mari;
exports.pace_oci_global_pri     = pace_oci_global_pri;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// DATA AS IMAGE COLLECTIONS

var pace_oci_global_ndvi_       = coll_vi(pace_oci_global_ndvi).select(['vi'],['ndvi']),
    pace_oci_global_evi_        = coll_vi(pace_oci_global_evi).select(['vi'],['evi']),
    pace_oci_global_cci_        = coll_vi(pace_oci_global_cci).select(['vi'],['cci']),
    pace_oci_global_cire_       = coll_vi(pace_oci_global_cire).select(['vi'],['cire']),
    pace_oci_global_car_        = coll_vi(pace_oci_global_car).select(['vi'],['car']),
    pace_oci_global_mari_       = coll_vi(pace_oci_global_mari).select(['vi'],['mari']),
    pace_oci_global_pri_        = coll_vi(pace_oci_global_pri).select(['vi'],['pri']);

exports.pace_oci_global_ndvi_   = pace_oci_global_ndvi_;
exports.pace_oci_global_evi_    = pace_oci_global_evi_;
exports.pace_oci_global_cci_    = pace_oci_global_cci_;
exports.pace_oci_global_cire_   = pace_oci_global_cire_;
exports.pace_oci_global_car_    = pace_oci_global_car_;
exports.pace_oci_global_mari_   = pace_oci_global_mari_;
exports.pace_oci_global_pri_    = pace_oci_global_pri_;

//

/*
var pace_oci_global_vis = pace_oci_global_ndvi_
                          .merge(pace_oci_global_evi_)
                          //.merge(pace_oci_global_cci_)
                          //.merge(pace_oci_global_cire_)
                          //.merge(pace_oci_global_car_)
                          //.merge(pace_oci_global_mari_)
                          //.merge(pace_oci_global_pri_);
*/

var pace_oci_global_vis = pace_oci_global_car_.merge(pace_oci_global_cire_).merge(pace_oci_global_mari_);
exports.pace_oci_global_vis = pace_oci_global_vis;

//

var a = require('users/servirbz/packages:bz/bz');

var pace_oci_bz_vis = pace_oci_global_vis.map(function(img){return img.clip(a.bz_poly).set(t,img.get(t))});
exports.pace_oci_bz_vis = pace_oci_bz_vis;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////