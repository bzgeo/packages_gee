/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var roi = ee.FeatureCollection("projects/bz-sdg/aoi/aoi_globe"),
    roi_mes = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[-77, 22],
          [-77, 6],
          [-93, 6],
          [-93, 22]]]),
    img5 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/PACE_OCI_20250322_20250329_L3m_8D_LANDVI_V3"),
    img6 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/PACE_OCI_20250330_20250406_L3m_8D_LANDVI_V3"),
    img7 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/PACE_OCI_20250407_20250414_L3m_8D_LANDVI_V3"),
    img2 = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202503_x2");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// Last updated: 23.04.2025

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//  EXPORT GLOBAL SR DATA (MONTHLY) - 11 KM
//var globe_202502 = img1.updateMask(img1.gt(0)).multiply(10000).toInt16().clip(roi).set('system:time_start',ee.Date.fromYMD(2025,2,14).millis());
var globe_202503 = img2.updateMask(img2.gt(0)).multiply(10000).toInt16().clip(roi).set('system:time_start',ee.Date.fromYMD(2025,3,15).millis());

/*
Export.image.toAsset({image:globe_202502.clip(roi),description:'export_ee_pace_global_10km',
assetId:'projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202502',
scale:10000,region: roi, crs: 'EPSG:4326'});
*/

Map.addLayer(globe_202503,{bands: ["b120","b111","b60"], min:[-730,-834,-684],max:[4050,5376,2140]},'PACE_OCI_SR_2025-03', 1);

Export.image.toAsset({image:globe_202503.clip(roi),description:'export_ee_pace_global_10km',
assetId:'projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/global_10km/globe_pace_oci_sr_v3_202503b',
scale:10000,region: roi, crs: 'EPSG:4326'});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/*
// EXPORT MESOAMERICA SR DATA (MONTHLY) - 4 KM
//var mes_202502 = img3.updateMask(img3.gt(0)).multiply(10000).toInt16().clip(roi_mes).set('system:time_start',ee.Date.fromYMD(2025,2,14).millis());
//var mes_202503 = img4.updateMask(img4.gt(0)).multiply(10000).toInt16().clip(roi_mes).set('system:time_start',ee.Date.fromYMD(2025,3,15).millis());

var mes_202502 = img3.updateMask(img3.gt(0)).clip(roi_mes).set('system:time_start',ee.Date.fromYMD(2025,2,14).millis());
var mes_202503 = img4.updateMask(img4.gt(0)).clip(roi_mes).set('system:time_start',ee.Date.fromYMD(2025,3,15).millis());


Export.image.toAsset({image:mes_202502,description:'export_ee_pace_mesoamerica_4km',
assetId:'projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202502_4km',scale:4638.312214700219,
region:roi_mes, crs: 'EPSG:4326'});

Export.image.toAsset({image:mes_202503,description:'export_ee_pace_mesoamerica_4km',
assetId:'projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_sr/mesoamerica_04km/mes_pace_oci_sr_202503_4km',scale:4638.312214700219,
region:roi_mes, crs: 'EPSG:4326'});
*/

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// EXPORT GLOBAL VI DATA (8-DAY) - 4 KM


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Map.addLayer(roi, {}, 'ROI', 0);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
