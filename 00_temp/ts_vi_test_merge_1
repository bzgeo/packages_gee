

var coll_vi_ = function(img) {

var vi01 = ee.Image.cat(img.select([0])).rename('vi').set(t,ee.Date.fromYMD(2024,3,12).millis());
var vi02 = ee.Image.cat(img.select([1])).rename('vi').set(t,ee.Date.fromYMD(2024,3,20).millis());
var vi03 = ee.Image.cat(img.select([2])).rename('vi').set(t,ee.Date.fromYMD(2024,3,28).millis());
var vi04 = ee.Image.cat(img.select([3])).rename('vi').set(t,ee.Date.fromYMD(2024,4,5).millis());
var vi05 = ee.Image.cat(img.select([4])).rename('vi').set(t,ee.Date.fromYMD(2024,4,13).millis());
var vi06 = ee.Image.cat(img.select([5])).rename('vi').set(t,ee.Date.fromYMD(2024,4,21).millis());
var vi07 = ee.Image.cat(img.select([6])).rename('vi').set(t,ee.Date.fromYMD(2024,4,29).millis());
var vi08 = ee.Image.cat(img.select([7])).rename('vi').set(t,ee.Date.fromYMD(2024,5,7).millis());
var vi09 = ee.Image.cat(img.select([8])).rename('vi').set(t,ee.Date.fromYMD(2024,5,15).millis());
var vi10 = ee.Image.cat(img.select([9])).rename('vi').set(t,ee.Date.fromYMD(2024,5,23).millis());
var vi11 = ee.Image.cat(img.select([10])).rename('vi').set(t,ee.Date.fromYMD(2024,5,31).millis());
var vi12 = ee.Image.cat(img.select([11])).rename('vi').set(t,ee.Date.fromYMD(2024,6,8).millis());
var vi13 = ee.Image.cat(img.select([12])).rename('vi').set(t,ee.Date.fromYMD(2024,6,16).millis());
var vi14 = ee.Image.cat(img.select([13])).rename('vi').set(t,ee.Date.fromYMD(2024,6,24).millis());
var vi15 = ee.Image.cat(img.select([14])).rename('vi').set(t,ee.Date.fromYMD(2024,7,2).millis());
var vi16 = ee.Image.cat(img.select([15])).rename('vi').set(t,ee.Date.fromYMD(2024,7,10).millis());
var vi17 = ee.Image.cat(img.select([16])).rename('vi').set(t,ee.Date.fromYMD(2024,7,18).millis());
var vi18 = ee.Image.cat(img.select([17])).rename('vi').set(t,ee.Date.fromYMD(2024,7,26).millis());
var vi19 = ee.Image.cat(img.select([18])).rename('vi').set(t,ee.Date.fromYMD(2024,8,3).millis());
var vi20 = ee.Image.cat(img.select([19])).rename('vi').set(t,ee.Date.fromYMD(2024,8,11).millis());
var vi21 = ee.Image.cat(img.select([20])).rename('vi').set(t,ee.Date.fromYMD(2024,8,19).millis());
var vi22 = ee.Image.cat(img.select([21])).rename('vi').set(t,ee.Date.fromYMD(2024,8,27).millis());
var vi23 = ee.Image.cat(img.select([22])).rename('vi').set(t,ee.Date.fromYMD(2024,9,4).millis());
var vi24 = ee.Image.cat(img.select([23])).rename('vi').set(t,ee.Date.fromYMD(2024,9,12).millis());
var vi25 = ee.Image.cat(img.select([24])).rename('vi').set(t,ee.Date.fromYMD(2024,9,20).millis());
var vi26 = ee.Image.cat(img.select([25])).rename('vi').set(t,ee.Date.fromYMD(2024,9,28).millis());
var vi27 = ee.Image.cat(img.select([26])).rename('vi').set(t,ee.Date.fromYMD(2024,10,6).millis());
var vi28 = ee.Image.cat(img.select([27])).rename('vi').set(t,ee.Date.fromYMD(2024,10,14).millis());
var vi29 = ee.Image.cat(img.select([28])).rename('vi').set(t,ee.Date.fromYMD(2024,10,22).millis());
var vi30 = ee.Image.cat(img.select([29])).rename('vi').set(t,ee.Date.fromYMD(2024,10,30).millis());
var vi31 = ee.Image.cat(img.select([30])).rename('vi').set(t,ee.Date.fromYMD(2024,11,7).millis());
var vi32 = ee.Image.cat(img.select([31])).rename('vi').set(t,ee.Date.fromYMD(2024,11,15).millis());
var vi33 = ee.Image.cat(img.select([32])).rename('vi').set(t,ee.Date.fromYMD(2024,11,23).millis());
var vi34 = ee.Image.cat(img.select([33])).rename('vi').set(t,ee.Date.fromYMD(2024,12,1).millis());
var vi35 = ee.Image.cat(img.select([34])).rename('vi').set(t,ee.Date.fromYMD(2024,12,9).millis());
var vi36 = ee.Image.cat(img.select([35])).rename('vi').set(t,ee.Date.fromYMD(2024,12,17).millis());
var vi37 = ee.Image.cat(img.select([36])).rename('vi').set(t,ee.Date.fromYMD(2024,12,25).millis());
var vi38 = ee.Image.cat(img.select([37])).rename('vi').set(t,ee.Date.fromYMD(2024,12,31).millis());
var vi39 = ee.Image.cat(img.select([38])).rename('vi').set(t,ee.Date.fromYMD(2025,1,8).millis());
var vi40 = ee.Image.cat(img.select([39])).rename('vi').set(t,ee.Date.fromYMD(2025,1,16).millis());
var vi41 = ee.Image.cat(img.select([40])).rename('vi').set(t,ee.Date.fromYMD(2025,1,24).millis());
var vi42 = ee.Image.cat(img.select([41])).rename('vi').set(t,ee.Date.fromYMD(2025,2,1).millis());
var vi43 = ee.Image.cat(img.select([42])).rename('vi').set(t,ee.Date.fromYMD(2025,2,9).millis());
var vi44 = ee.Image.cat(img.select([43])).rename('vi').set(t,ee.Date.fromYMD(2025,2,17).millis());
var vi45 = ee.Image.cat(img.select([44])).rename('vi').set(t,ee.Date.fromYMD(2025,2,25).millis());
var vi46 = ee.Image.cat(img.select([45])).rename('vi').set(t,ee.Date.fromYMD(2025,3,5).millis());
var vi47 = ee.Image.cat(img.select([46])).rename('vi').set(t,ee.Date.fromYMD(2025,3,13).millis());


return ee.ImageCollection.fromImages(
[vi01,vi02,vi03,vi04,vi05,vi06,vi07,vi08,vi09,vi10,
vi11,vi12,vi13,vi14,vi15,vi16,vi17,vi18,vi19,vi20,
vi21,vi22,vi23,vi24,vi25,vi26,vi27,vi28,vi29,vi30,
vi31,vi32,vi33,vi34,vi35,vi36,vi37,vi38,vi39,vi40,
vi41,vi42,vi43,vi44,vi45,vi46,vi47])
.map(function(img){return img.updateMask(img.gte(-10000)).updateMask(img.lte(30000))})  };

var pace_oci_global_evi = ee.Image("projects/bz-sdg/compil_imagery/hyperspectral/pace_oci_vi/8day_4km/vi_02_evi_b47_4km");
pace_oci_global_evi = pace_oci_global_evi.updateMask(pace_oci_global_evi.gte(-10000));

var pace_oci_8d_global_evi        = coll_vi_(pace_oci_global_evi).map(function(img){return img.select(['vi']).rename('evi')});

var pt1 = ee.Geometry.Point([-86.509, 34.7285]);

print(ui.Chart.image.series(pace_oci_8d_global_vi.select('evi'), pt1, ee.Reducer.mean(), 4000)
    .setOptions({title: 'PACE OCI - VI - AL Monte Sano', lineWidth: 1, pointSize: 3, vAxis: {title: 'VI x 10,000'}, series:{0:{color:'limegreen'}}}));



